# bootstrap.yml is loaded by a parent spring application context.
# It is required in case of loading configuration in bootstrap phase, which has priority over application.yml
spring:
  application:
    name: configserver
  cloud:
    config:
      server:
        git:
          # For high availability and repository caching,
          # We should use ssh with shared file system, or HTTP with remote git repo.
          uri: https://github.com/weibinshen/spring-cloud-config-server-repository
          # If we don't set main, Spring Cloud still looks for master...
          default-label: main
          username: weibinshen
          password: '{cipher}a7101cc10a8f0f8e1ebfca04fc816eec623d416d7764b93cb11d334be01214ba'
          # We clone the configuration repository on the startup.
          clone-on-start: true
    # If config server cannot reach config repo and load the config, it will stop immediately.
    fail-fast: true
  # Using JCE, the config server decrypt the secrets at bootstrap time and then send decrypted secrets to other microservices
  # This means we must enable SSL/TLS communication in production.
  # An alternative to this will be to use asymmetric encryption where decryption is at each microservices.
  security:
    user:
      name: spring_cloud_user
      password: '{cipher}bafe4683609000e943808cf8203b8b2d27e1dbeec884939c7f5cad726d4c6e600b721732d5803fe65d3957d39374fdba'